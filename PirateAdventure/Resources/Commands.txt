80%
    if FISH in room
    if MEAN_AND_HUNGRY_LOOKING_CROCODILES in room
    > CROCS EAT FISH AND LEAVE
    : send FISH to nowhere
    : send MEAN_AND_HUNGRY_LOOKING_CROCODILES to nowhere

80%
    if DEADLY_MAMBA_SNAKES in room
    if PARROT in room
    > THE PARROT CRYS
    > -PIECES OF EIGHT-
    > PARROT ATTACKS SNAKES AND DRIVES THEM OFF
    : send DEADLY_MAMBA_SNAKES to nowhere

100%
    if RUG carried
    if RING_OF_KEYS not carried or in room
    if flag 11 false
    > THERE'S A STRANGE SOUND
    : drop RING_OF_KEYS
    : set flag 11 true

3%
    if PARROT carried or in room
    > THE PARROT CRYS
    > -PIECES OF EIGHT-

100%
    if room = FOOT_OF_HILL
    : turn off dark

100%
    if flag 1 true
    if PILE_OF_PRECUT_LUMBER carried or in room
    if PILE_OF_SAILS carried or in room
    : set flag 2 true

100%
    if flag 2 true
    : set flag 1 false
    : send PILE_OF_PRECUT_LUMBER to nowhere
    : swap items PIRATE_SHIP and SMALL_SHIP'S_KEEL_AND_MAST
    > CONGRATULATIONS !!! BUT YOUR ADVENTURE IS NOT OVER YET...

100%
    if flag 1 true
    > NO. SOMETHING IS MISSING!
    : set flag 1 false

100%
    if flag 0 true
    : swap items LOCKED_DOOR and OPEN_DOOR_WITH_PIT_BEYOND
    : set flag 0 false

100%
    if flag 2 true
    : set flag 2 false
    : send NAILS to nowhere
    : send PILE_OF_SAILS to nowhere
    : send RUSTY_ANCHOR to nowhere

25%
    if room = NEVER_NEVER_LAND
    > SINCE NOTHING IS HAPPENING
    : game over

40%
    if room = LEDGE_OF_TALL_BUILDING
    if NON-SKID_SNEAKERS not carried
    > I SLIPPED AND FELL...
    : dead

80%
    if WICKED_LOOKING_PIRATE in room
    if BOTTLE_OF_RUM in room
    : SLEEPING_PIRATE goes to MUSTY_ATTIC
    > PIRATE GRABS RUM AND SCUTTLES OFF CHORTLING
    : set flag 0 true
    : send WICKED_LOOKING_PIRATE to nowhere

100%
    if flag 0 true
    : set flag 0 false
    : EMPTY_BOTTLE goes to MUSTY_ATTIC
    : send BOTTLE_OF_RUM to nowhere

35%
    if FISH carried
    if BOTTLE_OF_SALT_WATER not carried
    > TOO DRY. FISH VANISH.
    : FISH goes to OCEAN

100%
    if flag 6 false
    > * WELCOME TO -PIRATES ADVENTURE- BY SCOTT & ALEXIS ADAMS *
    : set flag 6 true

50%
    if WICKED_LOOKING_PIRATE in room
    if BOTTLES_OF_RUM in room
    : SLEEPING_PIRATE goes to GRAVEYARD
    > PIRATE GRABS RUM AND SCUTTLES OFF CHORTLING
    : send WICKED_LOOKING_PIRATE to nowhere

35%
    if PARROT carried or in room
    if flag 3 false
    > THE PARROT CRYS
    > -CHECK THE BAG MATEY-

10%
    if PARROT carried or in room
    if flag 12 false
    > THE PARROT CRYS
    > -CHECK THE CHEST MATEY-

50%
    if room = LAGOON
    if THE_TIDE_IS_COMING_IN somewhere
    if WATER_WINGS not carried
    > THE TIDE IS COMING IN
    > I'M UNDERWATER. I CAN'T SWIM. BLUB BLUB...
    : dead

50%
    if room = OCEAN
    if WATER_WINGS not carried
    > I'M UNDERWATER. I CAN'T SWIM. BLUB BLUB...
    : dead

10%
    if flag 10 false
    : swap items THE_TIDE_IS_OUT and THE_TIDE_IS_COMING_IN
    : swap items RUSTY_ANCHOR and FLOTSAM_AND_JETSAM
    : set flag 0 true

10%
    if flag 10 true
    if flag 4 false
    : swap items THE_TIDE_IS_OUT and THE_TIDE_IS_COMING_IN
    : set flag 0 true

85%
    if PARROT carried or in room
    if flag 0 true
    > THE PARROT CRYS
    > -TIDES A CHANGING MATEY-
    : set flag 0 false

100%
    if flag 0 true
    : set flag 0 false

100%
    if room = LEDGE_OF_TALL_BUILDING
    : turn off dark

80%
    if DEADLY_MAMBA_SNAKES in room
    if MONGOOSE in room
    > I WAS WRONG. I GUESS ITS NOT A MONGOOSE CAUSE THE SNAKES BIT IT.
    : swap items MONGOOSE and DEAD_SQUIRREL

GO PAS
    if BOOKCASE_WITH_A_SECRET_PASSAGE_BEHIND_IT in room
    : teleport to SECRET_PASSAGEWAY
    : clear screen
    : look

REA BOO
    if LARGE_LEATHER_BOUND_BOOK carried
    > THE NAME OF THE BOOK IS -TREASURE ISLAND- THERE'S A WORD ENGRAVED IN THE FLYLEAF -YOHO- AND A MESSAGE -LONG JOHN SILVER LEFT 2 TREASURES ON TREASURE ISLAND!-

GO WIN
    if OPEN_WINDOW in room
    : teleport to LEDGE_OF_TALL_BUILDING
    : clear screen
    : look

FIN
    > OPEN THE BOOK!

YOH
    if room = LEDGE_OF_TALL_BUILDING
    if LARGE_LEATHER_BOUND_BOOK carried
    : clear screen
    > EVERYTHING SPINS AROUND AND SUDDENLY YOU ARE ELSEWHERE...
    : teleport to SANDY_BEACH
    : look

YOH
    if room not LEDGE_OF_TALL_BUILDING
    if LARGE_LEATHER_BOUND_BOOK carried
    if flag 4 false
    : clear screen
    > EVERYTHING SPINS AROUND AND SUDDENLY YOU ARE ELSEWHERE...
    : teleport to LEDGE_OF_TALL_BUILDING
    : look

LOO WIN
    if OPEN_WINDOW in room
    > THERE'S SOMETHING THERE ALRIGHT. MAYBE I SHOULD...
    > GO THERE?

LIG TOR
    if UNLIT_TORCH carried
    if MATCHES carried or in room
    : swap items UNLIT_TORCH and LIT_TORCH
    : clear screen
    > TORCH IS LIT
    : look

UNL TOR
    if LIT_TORCH carried
    : send LIT_TORCH to nowhere
    : take UNLIT_TORCH

HEL
    if room = LEDGE_OF_TALL_BUILDING
    > YOU MAY NEED MAGIC HERE

GET DUB
    if DUBLEONS in room
    if DEADLY_MAMBA_SNAKES not in room
    : take DUBLEONS

GET DUB
    if DUBLEONS in room
    if DEADLY_MAMBA_SNAKES in room
    > THAT'S NOT VERY SAFE
    > I'M SNAKE BIT
    : dead

GO SHA
    if GRASS_SHACK in room
    : teleport to GRASS_SHACK
    : clear screen
    : look

GET CHE
    if TREASURE_CHEST in room
    if WICKED_LOOKING_PIRATE in room
    > PIRATE WON'T LET ME

GET CHE
    if TREASURE_CHEST in room
    if WICKED_LOOKING_PIRATE not in room
    : take TREASURE_CHEST

OPE CHE
    if TREASURE_CHEST in room
    if WICKED_LOOKING_PIRATE in room
    > PIRATE WON'T LET ME

OPE CHE
    if TREASURE_CHEST in room
    if WICKED_LOOKING_PIRATE not in room
    > ITS LOCKED

UNL CHE
    if TREASURE_CHEST in room
    if WICKED_LOOKING_PIRATE not in room
    if RING_OF_KEYS carried
    > ITS OPEN
    : send TREASURE_CHEST to nowhere
    : drop OPEN_TREASURE_CHEST

OPE CHE
    if TREASURE_CHEST carried
    > NOT WHILE I'M CARRYING IT

LOO CHE
    if OPEN_TREASURE_CHEST carried
    > NOT WHILE I'M CARRYING IT

LOO CHE
    if TREASURE_CHEST carried or in room
    > SORRY I CAN'T
    > ITS LOCKED

LOO CHE
    if OPEN_TREASURE_CHEST in room
    if flag 5 false
    if flag 12 false
    > THERE ARE A SET OF PLANS IN IT
    : drop SET_OF_PLANS
    : set flag 5 true

LOO CHE
    if flag 12 false
    if OPEN_TREASURE_CHEST in room
    if flag 5 true
    > THERE'S A MAP IN IT
    : drop MAP
    : set flag 12 true

LOO CHE
    if flag 12 true
    if OPEN_TREASURE_CHEST in room
    > ITS EMPTY

LOO BAG
    if PIRATE'S_DUFFLE_BAG carried or in room
    if flag 3 false
    > THERE'S SOMETHING THERE ALRIGHT. MAYBE I SHOULD...
    > OPEN IT?

LOO BAG
    if PIRATE'S_DUFFLE_BAG carried or in room
    if flag 3 true
    > ITS EMPTY

OPE DOO
    if MEAN_AND_HUNGRY_LOOKING_CROCODILES in room
    > CROCS STOP ME

OPE DOO
    if LOCKED_DOOR in room
    > SORRY I CAN'T
    > ITS LOCKED

OPE DOO
    if OPEN_DOOR_WITH_HALL_BEYOND in room
    > ITS OPEN

GO HAL
    if OPEN_DOOR_WITH_HALL_BEYOND in room
    : teleport to LONG_HALLWAY
    : clear screen
    : look

UNL DOO
    if MEAN_AND_HUNGRY_LOOKING_CROCODILES in room
    if LOCKED_DOOR in room
    > CROCS STOP ME

UNL DOO
    if MEAN_AND_HUNGRY_LOOKING_CROCODILES not in room
    if LOCKED_DOOR in room
    if RING_OF_KEYS carried
    : send LOCKED_DOOR to nowhere
    : drop OPEN_DOOR_WITH_HALL_BEYOND
    : set flag 0 true

DRI BOT
    if BOTTLE_OF_RUM carried or in room
    > THERE'S A STRANGE SOUND
    > ...I THINK ITS ME. HEE HEE.

INV
    : show inventory

GET INV
    : show inventory

LOO BOX
    if PLAIN_WOODEN_BOX carried or in room
    if RARE_OLD_PRICELESS_STAMPS not carried or in room
    > THERE'S SOMETHING THERE ALRIGHT. MAYBE I SHOULD...
    > OPEN IT?

AWA
    > WRONG GAME YOU SILLY GOOSE!
    > NOTHING HAPPENS

REA BOO
    if LARGE_LEATHER_BOUND_BOOK not carried
    > SORRY I CAN'T
    > I DON'T HAVE IT

SCO
    : check treasures

SAV GAM
    : save game

BUI BOA
    if SET_OF_PLANS not carried or in room
    > SORRY I CAN'T
    > I'VE NO PLANS!

GO CAV
    if room = FOOT_OF_HILL
    : teleport to MAZE_OF_CAVES
    : turn on dark
    : clear screen
    : look

LOO LAG
    if THE_TIDE_IS_OUT nowhere
    > THERE'S SOMETHING THERE ALRIGHT. MAYBE I SHOULD...
    > GO THERE?
    > THE TIDE IS COMING IN

LOO LAG
    if THE_TIDE_IS_OUT somewhere
    > THERE'S SOMETHING THERE ALRIGHT. MAYBE I SHOULD...
    > GO THERE?
    > THE TIDE IS OUT

LOO SHA
    if GRASS_SHACK in room
    > THERE'S SOMETHING THERE ALRIGHT. MAYBE I SHOULD...
    > GO THERE?

LOO CRA
    if ROCK_WALL_WITH_NARROW_CRACK_IN_IT in room
    > THERE'S SOMETHING THERE ALRIGHT. MAYBE I SHOULD...
    > GO THERE?

GO CRA
    if NARROW_CRACK_IN_THE_ROCK in room
    if SHOVEL carried
    > SORRY I CAN'T
    > SOMETHING WON'T FIT

GO CRA
    if ROCK_WALL_WITH_NARROW_CRACK_IN_IT in room
    if TREASURE_CHEST carried
    > SORRY I CAN'T
    > SOMETHING WON'T FIT

QUI
    : game over

GET RUG
    if RUG in room
    > SORRY I CAN'T
    > ITS NAILED TO THE FLOOR!

GET NAI
    if CLAW_HAMMER carried
    if RUG in room
    : take NAILS
    : drop RUG
    : send RUG to nowhere

GO CRA
    if NARROW_CRACK_IN_THE_ROCK in room
    if PILE_OF_PRECUT_LUMBER carried
    > SORRY I CAN'T
    > SOMETHING WON'T FIT

BUI BOA
    if CLAW_HAMMER carried or in room
    if SET_OF_PLANS carried or in room
    if RUSTY_ANCHOR carried or in room
    if NAILS carried or in room
    : set flag 1 true

BUI BOA
    > NO. SOMETHING IS MISSING!

GO PIT
    if OPEN_DOOR_WITH_PIT_BEYOND in room
    : clear screen
    : teleport to PIT
    : look

GO CRA
    if ROCK_WALL_WITH_NARROW_CRACK_IN_IT in room
    if LARGE_LEATHER_BOUND_BOOK carried
    > SORRY I CAN'T
    > SOMETHING WON'T FIT

LOO
    : clear screen
    : look

GET RUG
    if RUG carried or in room
    : take RUG

GO CRA
    if ROCK_WALL_WITH_NARROW_CRACK_IN_IT in room
    : teleport to LARGE_CAVERN
    > IT WAS A TIGHT SQUEEZE!
    : turn on dark
    : look

GO CRA
    if NARROW_CRACK_IN_THE_ROCK in room
    : teleport to TOP_OF_HILL
    : turn off dark
    : clear screen
    : look

SET SAI
    if room = ON_PIRATE_SHIP
    if WICKED_LOOKING_PIRATE in room
    if THE_TIDE_IS_OUT somewhere
    if flag 4 false
    > PIRATE SAYS -AYE MATEY WE BE WAITING FOR THE TIDE TO COME IN-

YOH
    > NOTHING HAPPENS

OPE BAG
    if PIRATE'S_DUFFLE_BAG carried or in room
    if flag 3 false
    > SOMETHING FALLS OUT
    : drop MATCHES
    : set flag 3 true

OPE BAG
    if flag 3 true
    > NOTHING HAPPENS
    > ITS EMPTY

GET WAT
    if EMPTY_BOTTLE not carried
    > I'VE NO CONTAINER

GET WAT
    if SALT_WATER in room
    if EMPTY_BOTTLE carried
    : send EMPTY_BOTTLE to nowhere
    : take BOTTLE_OF_SALT_WATER

DRO WAT
    if BOTTLE_OF_SALT_WATER carried
    : send BOTTLE_OF_SALT_WATER to nowhere
    : take EMPTY_BOTTLE
    > IT SOAKS INTO THE GROUND

DRI WAT
    if SALT_WATER in room
    > THAT'S NOT VERY SAFE
    : dead

DRI WAT
    if BOTTLE_OF_SALT_WATER carried
    > THAT'S NOT VERY SAFE
    : dead
    : send BOTTLE_OF_SALT_WATER to nowhere
    : take EMPTY_BOTTLE

WAK PIR
    if SLEEPING_PIRATE in room
    > PIRATE AWAKENS. SAYS -AYE MATEY WE BE CASTING OFF SOON- HE THEN VANISHES
    : send SLEEPING_PIRATE to nowhere
    : WICKED_LOOKING_PIRATE goes to ON_PIRATE_SHIP

OPE BOT
    if BOTTLE_OF_RUM carried or in room
    > ITS OPEN

EMP BOT
    if BOTTLE_OF_RUM carried
    > WHAT A WASTE...
    : send BOTTLE_OF_RUM to nowhere
    : take EMPTY_BOTTLE
    > IT SOAKS INTO THE GROUND

GO BOA
    if PIRATE_SHIP in room
    : teleport to ON_PIRATE_SHIP
    : clear screen
    : look

GO SHO
    if room = ON_PIRATE_SHIP
    if flag 4 true
    if WICKED_LOOKING_PIRATE in room
    : teleport to BEACH_AT_TREASURE_ISLAND
    : clear screen
    : drop WICKED_LOOKING_PIRATE
    > PIRATE FOLLOWS YOU ASHORE AS IF HE IS WAITING FOR SOMETHING.

GO SHO
    if room = ON_PIRATE_SHIP
    if flag 4 false
    : teleport to SANDY_BEACH
    : clear screen
    : look

SET SAI
    if room = ON_PIRATE_SHIP
    if WICKED_LOOKING_PIRATE not in room
    > SORRY I CAN'T
    > I'VE NO CREW

SET SAI
    if room = ON_PIRATE_SHIP
    if MAP not carried or in room
    > SORRY I CAN'T
    > PIRATE SAYS -AYE MATEY WE BE NEEDING A MAP FIRST-

SET SAI
    if room = ON_PIRATE_SHIP
    if flag 4 false
    > AFTER A MONTH AT SEA WE SET ANCHOR OFF OF A SANDY BEACH. ALL ASHORE WHO'S GOING ASHORE...
    : set flag 4 true
    : PIRATE_SHIP goes to BEACH_AT_TREASURE_ISLAND

SET SAI
    if room = ON_PIRATE_SHIP
    if flag 4 true
    > AFTER A MONTH AT SEA WE SET ANCHOR OFF OF A SANDY BEACH. ALL ASHORE WHO'S GOING ASHORE...
    : set flag 4 false
    : PIRATE_SHIP goes to SANDY_BEACH

CAS OFF
    > TRY -WEIGH ANCHOR-

REA MAP
    if MAP carried or in room
    > ITS A MAP TO TREASURE ISLAND. AT THE BOTTOM IT SAYS -30 PACES AND THEN DIG!-

SAI
    > TRY -WEIGH ANCHOR-

GET BOO
    if LARGE_LEATHER_BOUND_BOOK in room
    : take LARGE_LEATHER_BOUND_BOOK

OPE BOO
    if LARGE_LEATHER_BOUND_BOOK carried or in room
    > NOTE HERE -I BE LIKING PARROTS. THEY BE SMART MATEY-

GO SHO
    if room = ON_PIRATE_SHIP
    if flag 4 true
    : teleport to BEACH_AT_TREASURE_ISLAND
    : clear screen
    : look

GO PAT
    if room = FOOT_OF_HILL
    : teleport to TOP_OF_HILL
    : clear screen
    : look

GET PAR
    if PARROT in room
    if WICKED_LOOKING_PIRATE in room
    > PIRATE WON'T LET ME

GET PAR
    if PARROT in room
    : take PARROT
    > THE PARROT CRYS
    > -PIECES OF EIGHT-

GO SHE
    if TOOL_SHED in room
    : teleport to TOOL_SHED
    : clear screen
    : look

GO 30
    if flag 7 false
    if room = LARGE_BARREN_FIELD
    : set flag 7 true
    > OK I WALKED OFF 30 PACES.

GO 30
    : set flag 8 true
    > OK I WALKED OFF 30 PACES.

DIG
    if room = GRAVEYARD
    if SHOVEL carried
    if MOULDY_OLD_BONES not carried or in room
    : clear screen
    > I FOUND SOMETHING!
    : drop MOULDY_OLD_BONES
    : look

DIG
    if room = SANDY_BEACH
    if SHOVEL carried
    > I DIDN'T FIND ANYTHING

DIG
    if room = BEACH_AT_TREASURE_ISLAND
    if BOTTLES_OF_RUM not carried or in room
    if SHOVEL carried
    : clear screen
    : drop BOTTLES_OF_RUM
    > I FOUND SOMETHING!
    : look

JUM
    if room = LEDGE_OF_TALL_BUILDING
    : clear screen
    > THAT'S NOT VERY SAFE
    : look

DIG
    if room = LARGE_BARREN_FIELD
    if flag 7 true
    if SHOVEL carried
    if PLAIN_WOODEN_BOX not carried or in room
    : clear screen
    : drop PLAIN_WOODEN_BOX
    > I FOUND SOMETHING!
    : look

GET NAI
    if NAILS carried or in room
    : take NAILS

GO WIN
    if room = LEDGE_OF_TALL_BUILDING
    : teleport to ALCOVE
    : clear screen
    : look

HEL
    if room = ALCOVE
    > READING EXPANDS THE MIND

REA PLA
    if SET_OF_PLANS carried or in room
    > THEY'RE PLANS TO BUILD JOLLY ROGER (A PIRATE SHIP!). YOU'LL NEED HAMMER NAILS LUMBER ANCHOR SAILS AND KEEL.

UNL DOO
    if LOCKED_DOOR in room
    if RING_OF_KEYS carried
    > SORRY I CAN'T
    > ITS LOCKED
    > FROM THE OTHER SIDE!

OPE DOO
    if LOCKED_DOOR in room
    > SORRY I CAN'T
    > ITS LOCKED

OPE DOO
    if OPEN_DOOR_WITH_PIT_BEYOND in room
    > ITS OPEN

GO LAG
    if LAGOON in room
    : teleport to LAGOON
    : clear screen
    : look

GO STA
    if FLIGHT_OF_STAIRS in room
    if room = APARTMENT
    : teleport to ALCOVE
    : clear screen
    : look

GET BOO
    if room = ALCOVE
    if BOOKCASE_WITH_A_SECRET_PASSAGE_BEHIND_IT not in room
    : take LARGE_LEATHER_BOUND_BOOK
    > THERE'S A STRANGE SOUND
    : swap items BOOKS_IN_A_BOOKCASE and BOOKCASE_WITH_A_SECRET_PASSAGE_BEHIND_IT

GET ANC
    if RUSTY_ANCHOR in room
    if flag 10 true
    : take RUSTY_ANCHOR

GET ANC
    if RUSTY_ANCHOR in room
    if flag 10 false
    > SORRY I CAN'T
    > ITS STUCK IN THE SAND

GET ANC
    if RUSTY_ANCHOR not in room
    : clear screen
    > SORRY I CAN'T
    > I DON'T SEE IT HERE
    : look

EMP BOT
    if BOTTLE_OF_SALT_WATER carried
    : send BOTTLE_OF_SALT_WATER to nowhere
    : swap items EMPTY_BOTTLE and FLIGHT_OF_STAIRS

GO MON
    if MONASTARY in room
    : teleport to MONASTARY
    : clear screen
    : look

SAI BOA
    > TRY -WEIGH ANCHOR-

HEL
    if room = FOOT_OF_HILL
    > THERE'S MULTIPLE EXITS HERE!

WEI ANC
    > ABOUT 20 POUNDS. TRY -SET SAIL-

DIG
    if SHOVEL carried
    if flag 10 false
    if RUSTY_ANCHOR in room
    : set flag 10 true

BUR
    > SORRY I CAN'T

OPE BOX
    if CLAW_HAMMER carried
    if PLAIN_WOODEN_BOX carried or in room
    > SOMETHING FALLS OUT
    : drop RARE_OLD_PRICELESS_STAMPS

KIL PIR
    > PIRATE WON'T LET ME

HEL
    if room = PIT
    > THE TIDE IS OUT
    > THE TIDE IS COMING IN
    > -TIDES A CHANGING MATEY-

SAY
    > USE 1 WORD

HEL
    if room = SANDY_BEACH
    > THERE'S MULTIPLE EXITS HERE!

WAI
    if flag 10 true
    : swap items THE_TIDE_IS_OUT and THE_TIDE_IS_COMING_IN
    > -TIDES A CHANGING MATEY-

HEL
    if room = GRASS_SHACK
    if WICKED_LOOKING_PIRATE in room
    > -MAGIC WORD- HO AND A... (WORK ON IT. YOU'LL GET IT)

DIG
    if SHOVEL carried
    > I DIDN'T FIND ANYTHING
    : set flag 8 false
    : set flag 7 false

